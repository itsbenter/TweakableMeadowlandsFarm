{
  "$schema": "https://smapi.io/schemas/content-patcher.json",
  "Format": "2.0.0",
  "ConfigSchema": {
    //Basic Config
    "MeadowlandsFarmVersion": {
      "Default": "Default",
      "AllowValues": "Default, FullDirtField, NeaterDirtField, NoRandomGrassPatches, SplittedGrassField, MoreGrass, FullGrassField",
    },
    "RemoveCentralPond": {
      "Default": "false",
      "AllowValues": "true, false",
      "Section": "RemoveMapFeature"
    },
    "RemoveWestPond": {
      "Default": "false",
      "AllowValues": "true, false",
      "Section": "RemoveMapFeature"
    },
    "RemoveEastPond": {
      "Default": "false",
      "AllowValues": "true, false",
      "Section": "RemoveMapFeature"
    },
    "RemoveFence": {
      "Default": "false",
      "AllowValues": "true, false",
      "Section": "RemoveMapFeature"
    },
    "TillableGrass": {
      "Default": "false",
      "AllowValues": "true, false",
      "Section": "AdditionalMapFeature"
    },
    "ForestFarmForages": {
      "Default": "false",
      "AllowValues": "true, false",
      "Section": "AdditionalMapFeature"
    },
    /*
    "HillTopFarmOres": {
      "Default": "false",
      "AllowValues": "true, false",
      "Section": "AdditionalMapFeature"
    },
    */
    "RenewableStumps": {
      "Default": "false",
      "AllowValues": "true, false",
      "Section": "AdditionalMapFeature"
    },
    "HiddenSpring": {
      "Default": "false",
      "AllowValues": "true, false",
      "Section": "AdditionalMapFeature"
    },
    "Bridge": {
      "Default": "Default",
      "AllowValues": "Default, StoneBridge, BiggerPlank",
      "Section": "AlternateMapFeature"
    }
  },
  "DynamicTokens": [
    {
      "Name": "TillableGrassToken",
      "Value": "",
    },
    {
      "Name": "TillableGrassToken",
      "Value": "_TillableGrass",
      "When": {
        "TillableGrass": true
      }
    },
    {
      "Name": "RemoveFenceToken",
      "Value": "_DefaultBorder",
      "When": {
        "MeadowlandsFarmVersion |contains=Default, NoRandomGrassPatches": true,
      }
    },
    {
      "Name": "RemoveFenceToken",
      "Value": "_NeaterDirtFieldBorder",
      "When": {
        "MeadowlandsFarmVersion |contains=NeaterDirtField, SplittedGrassField, FullDirtField": true,
      }
    },
    {
      "Name": "RemoveFenceToken",
      "Value": "_MoreGrassBorder",
      "When": {
        "MeadowlandsFarmVersion |contains=MoreGrass": true,
      }
    },
    {
      "Name": "RemoveFenceToken",
      "Value": "_FullGrassFieldBorder",
      "When": {
        "MeadowlandsFarmVersion |contains=FullGrassField": true,
      }
    }
  ],
  "Changes": [
    //Map version
    {
      "LogName": "Load Meadowlands Farm Map - Default Map",
      "Action": "Load",
      "Target": "Maps/Farm_Ranching",
      "FromFile": "Farm_Ranching{{TillableGrassToken}}.tmx",
      "When": {
        "MeadowlandsFarmVersion |contains=Default": true,
        "TillableGrass": true
      }
    },
    {
      "LogName": "Load Meadowlands Farm Map - Edited Map",
      "Action": "Load",
      "Target": "Maps/Farm_Ranching",
      "FromFile": "Farm_Ranching_{{MeadowlandsFarmVersion}}{{TillableGrassToken}}.tmx",
      "When": {
        "MeadowlandsFarmVersion |contains=Default": false
      }
    },
    //Remove pond
    {
      "LogName": "Remove Big Central Pond - Dirt",
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "FromFile": "Farm_Ranching_RemovedPonds.tmx",
      "FromArea": {
        "X": 30,
        "Y": 41,
        "Width": 16,
        "Height": 11
      },
      "ToArea": {
        "X": 30,
        "Y": 41,
        "Width": 16,
        "Height": 11
      },
      "PatchMode": "Replace",
      "When": {
        "RemoveCentralPond": true,
        "MeadowlandsFarmVersion |contains=FullGrassField": false
      }
    },
    {
      "LogName": "Remove Small West Pond - Dirt",
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "FromFile": "Farm_Ranching_RemovedPonds.tmx",
      "FromArea": {
        "X": 15,
        "Y": 59,
        "Width": 7,
        "Height": 5
      },
      "ToArea": {
        "X": 15,
        "Y": 59,
        "Width": 7,
        "Height": 5
      },
      "PatchMode": "Replace",
      "When": {
        "RemoveWestPond": true,
        "MeadowlandsFarmVersion |contains=FullGrassField": false
      }
    },
    {
      "LogName": "Remove Small East Pond - Dirt",
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "FromFile": "Farm_Ranching_RemovedPonds.tmx",
      "FromArea": {
        "X": 66,
        "Y": 55,
        "Width": 10,
        "Height": 7
      },
      "ToArea": {
        "X": 66,
        "Y": 55,
        "Width": 10,
        "Height": 7
      },
      "PatchMode": "Replace",
      "When": {
        "RemoveEastPond": true,
        "MeadowlandsFarmVersion |contains=FullGrassField": false
      }
    },
    {
      "LogName": "Remove Big Central Pond - Grass",
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "FromFile": "Farm_Ranching_FullGrassField_RemovedPonds.tmx",
      "FromArea": {
        "X": 26,
        "Y": 37,
        "Width": 24,
        "Height": 18
      },
      "ToArea": {
        "X": 26,
        "Y": 37,
        "Width": 24,
        "Height": 18
      },
      "PatchMode": "Replace",
      "When": {
        "RemoveCentralPond": true,
        "MeadowlandsFarmVersion |contains=FullGrassField": true
      }
    },
    {
      "LogName": "Remove Small West Pond - Grass",
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "FromFile": "Farm_Ranching_FullGrassField_RemovedPonds.tmx",
      "FromArea": {
        "X": 13,
        "Y": 57,
        "Width": 17,
        "Height": 10
      },
      "ToArea": {
        "X": 13,
        "Y": 57,
        "Width": 17,
        "Height": 10
      },
      "PatchMode": "Replace",
      "When": {
        "RemoveWestPond": true,
        "MeadowlandsFarmVersion |contains=FullGrassField": true
      }
    },
    {
      "LogName": "Remove Small East Pond - Grass",
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "FromFile": "Farm_Ranching_FullGrassField_RemovedPonds.tmx",
      "FromArea": {
        "X": 62,
        "Y": 53,
        "Width": 19,
        "Height": 12
      },
      "ToArea": {
        "X": 62,
        "Y": 53,
        "Width": 19,
        "Height": 12
      },
      "PatchMode": "Replace",
      "When": {
        "RemoveEastPond": true,
        "MeadowlandsFarmVersion |contains=FullGrassField": true
      }
    },
    //Remove fence
    {
      "LogName": "Remove Fence",
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "FromFile": "Farm_Ranching_RemovedFence{{RemoveFenceToken}}.tmx",
      "FromArea": {
        "X": 0,
        "Y": 49,
        "Width": 10,
        "Height": 26
      },
      "ToArea": {
        "X": 0,
        "Y": 49,
        "Width": 10,
        "Height": 26
      },
      "PatchMode": "Replace",
      "When": {
        "RemoveFence": true,
      }
    },
    {
      "LogName": "Remove Fence - Default, NoRandomGrassPatches",
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "FromFile": "Farm_Ranching_RemovedFence{{RemoveFenceToken}}.tmx",
      "FromArea": {
        "X": 10,
        "Y": 67,
        "Width": 76,
        "Height": 8
      },
      "ToArea": {
        "X": 10,
        "Y": 67,
        "Width": 76,
        "Height": 8
      },
      "PatchMode": "Replace",
      "When": {
        "RemoveFence": true,
      }
    },
    {
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "TextOperations": [
        {
          "Operation": "Append",
          "Target": [
            "MapProperties",
            "Warp"
          ],
          "Value": "44 75 Forest 68 0 45 75 Forest 68 0 46 75 Forest 68 0 47 75 Forest 68 0 50 75 Forest 68 0 51 75 Forest 68 0 54 75 Forest 68 0 55 75 Forest 68 0 56 75 Forest 68 0 57 75 Forest 68 0 58 75 Forest 68 0 59 75 Forest 68 0 60 75 Forest 68 0",
          "Delimiter": " "
        }
      ],
      "When": {
        "RemoveFence": true,
      }
    },
    //Forest Farm Forages
    {
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "MapProperties": {
        "SpawnForestFarmForage": "T"
      },
      "When": {
        "ForestFarmForages": true,
      }
    },
    //Hill-Top Farm Ores
    /*
    {
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "MapProperties": {
        "SpawnMountainFarmOreRect": "77 49 15 11"
      },
      "When": {
        "HillTopFarmOres": true,
        //"query: {{DaysPlayed}} > 1": true,
      }
    },
    */
    //Renewable Stumps
    {
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "MapProperties": {
        "Stumps": "24 12 3 27 8 3 18 12 3"
      },
      "When": {
        "RenewableStumps": true,
      }
    },
    //Bridge
    {
      "LogName": "Bridge",
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "FromFile": "Farm_Ranching_{{Bridge}}.tmx",
      "ToArea": {
        "X": 23,
        "Y": 18,
        "Width": 5,
        "Height": 4
      },
      "PatchMode": "Replace",
      "When": {
        "Bridge|Contains=Default": false,
      }
    },
    //Hidden Spring
    {
      "LogName": "Hidden Spring Entrance",
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "FromFile": "Farm_Ranching_SpringEntrance.tmx",
      "ToArea": {
        "X": 0,
        "Y": 67,
        "Width": 8,
        "Height": 8
      },
      "PatchMode": "Replace",
      "When": {
        "HiddenSpring": true,
        "RemoveFence": true
      }
    },
    {
      "Action": "EditMap",
      "Target": "Maps/Farm_Ranching",
      "TextOperations": [
        {
          "Operation": "Append",
          "Target": [
            "MapProperties",
            "Warp"
          ],
          "Value": "-1 70 ItsBenter.TweakableMeadowlandsFarm.HiddenSpring 27 0 -1 71 ItsBenter.TweakableMeadowlandsFarm.HiddenSpring 27 0",
          "Delimiter": " "
        }
      ],
      "When": {
        "HiddenSpring": true,
        "RemoveFence": true
      }
    },
    {
      "LogName": "Load hidden spring map",
      "Action": "Load",
      "Target": "Maps/ItsBenter.TweakableMeadowlandsFarm.HiddenSpring",
      "FromFile": "HiddenSpring.tmx"
    },
    {
      "LogName": "Hidden spring location data - Based on Secret Woods",
      "Action": "EditData",
      "Target": "Data/Locations",
      "Entries": {
        "ItsBenter.TweakableMeadowlandsFarm.HiddenSpring": {
          "DisplayName": "{{i18n:HiddenSpring.Name}}",
          "DefaultArrivalTile": {
            "X": 27,
            "Y": 0
          },
          "ExcludeFromNpcPathfinding": true,
          "CreateOnLoad": {
            "MapPath": "Maps/ItsBenter.TweakableMeadowlandsFarm.HiddenSpring",
            "AlwaysActive": false
          },
          "CanHaveGreenRainSpawns": true,
          "ArtifactSpots": [
            {
              "Chance": 0.25,
              "ApplyGenerousEnchantment": true,
              "OneDebrisPerDrop": true,
              "Precedence": 0,
              "ContinueOnDrop": false,
              "Condition": null,
              "Id": "(O)390",
              "ItemId": "(O)390",
              "RandomItemId": null,
              "MaxItems": null,
              "MinStack": 1,
              "MaxStack": 3,
              "Quality": -1,
              "ObjectInternalName": null,
              "ObjectDisplayName": null,
              "ToolUpgradeLevel": -1,
              "IsRecipe": false,
              "StackModifiers": null,
              "StackModifierMode": "Stack",
              "QualityModifiers": null,
              "QualityModifierMode": "Stack",
              "ModData": null,
              "PerItemCondition": null
            }
          ],
          "FishAreas": {},
          "Fish": [],
          "Forage": [
            {
              "Chance": 0.5,
              "Season": "Spring",
              "Condition": null,
              "Id": "(O)257",
              "ItemId": "(O)257",
              "RandomItemId": null,
              "MaxItems": null,
              "MinStack": -1,
              "MaxStack": -1,
              "Quality": -1,
              "ObjectInternalName": null,
              "ObjectDisplayName": null,
              "ToolUpgradeLevel": -1,
              "IsRecipe": false,
              "StackModifiers": null,
              "StackModifierMode": "Stack",
              "QualityModifiers": null,
              "QualityModifierMode": "Stack",
              "ModData": null,
              "PerItemCondition": null
            },
            {
              "Chance": 0.25,
              "Season": "Spring",
              "Condition": null,
              "Id": "CommonMushroom_Spring",
              "ItemId": "(O)404",
              "RandomItemId": null,
              "MaxItems": null,
              "MinStack": -1,
              "MaxStack": -1,
              "Quality": -1,
              "ObjectInternalName": null,
              "ObjectDisplayName": null,
              "ToolUpgradeLevel": -1,
              "IsRecipe": false,
              "StackModifiers": null,
              "StackModifierMode": "Stack",
              "QualityModifiers": null,
              "QualityModifierMode": "Stack",
              "ModData": null,
              "PerItemCondition": null
            },
            {
              "Chance": 0.8,
              "Season": "Spring",
              "Condition": null,
              "Id": "(O)16",
              "ItemId": "(O)16",
              "RandomItemId": null,
              "MaxItems": null,
              "MinStack": -1,
              "MaxStack": -1,
              "Quality": -1,
              "ObjectInternalName": null,
              "ObjectDisplayName": null,
              "ToolUpgradeLevel": -1,
              "IsRecipe": false,
              "StackModifiers": null,
              "StackModifierMode": "Stack",
              "QualityModifiers": null,
              "QualityModifierMode": "Stack",
              "ModData": null,
              "PerItemCondition": null
            },
            {
              "Chance": 0.9,
              "Season": "Summer",
              "Condition": null,
              "Id": "(O)259",
              "ItemId": "(O)259",
              "RandomItemId": null,
              "MaxItems": null,
              "MinStack": -1,
              "MaxStack": -1,
              "Quality": -1,
              "ObjectInternalName": null,
              "ObjectDisplayName": null,
              "ToolUpgradeLevel": -1,
              "IsRecipe": false,
              "StackModifiers": null,
              "StackModifierMode": "Stack",
              "QualityModifiers": null,
              "QualityModifierMode": "Stack",
              "ModData": null,
              "PerItemCondition": null
            },
            {
              "Chance": 0.25,
              "Season": "Summer",
              "Condition": null,
              "Id": "RedMushroom_Summer",
              "ItemId": "(O)420",
              "RandomItemId": null,
              "MaxItems": null,
              "MinStack": -1,
              "MaxStack": -1,
              "Quality": -1,
              "ObjectInternalName": null,
              "ObjectDisplayName": null,
              "ToolUpgradeLevel": -1,
              "IsRecipe": false,
              "StackModifiers": null,
              "StackModifierMode": "Stack",
              "QualityModifiers": null,
              "QualityModifierMode": "Stack",
              "ModData": null,
              "PerItemCondition": null
            },
            {
              "Chance": 0.5,
              "Season": "Fall",
              "Condition": null,
              "Id": "(O)281",
              "ItemId": "(O)281",
              "RandomItemId": null,
              "MaxItems": null,
              "MinStack": -1,
              "MaxStack": -1,
              "Quality": -1,
              "ObjectInternalName": null,
              "ObjectDisplayName": null,
              "ToolUpgradeLevel": -1,
              "IsRecipe": false,
              "StackModifiers": null,
              "StackModifierMode": "Stack",
              "QualityModifiers": null,
              "QualityModifierMode": "Stack",
              "ModData": null,
              "PerItemCondition": null
            },
            {
              "Chance": 0.6,
              "Season": "Fall",
              "Condition": null,
              "Id": "CommonMushroom_Fall",
              "ItemId": "(O)404",
              "RandomItemId": null,
              "MaxItems": null,
              "MinStack": -1,
              "MaxStack": -1,
              "Quality": -1,
              "ObjectInternalName": null,
              "ObjectDisplayName": null,
              "ToolUpgradeLevel": -1,
              "IsRecipe": false,
              "StackModifiers": null,
              "StackModifierMode": "Stack",
              "QualityModifiers": null,
              "QualityModifierMode": "Stack",
              "ModData": null,
              "PerItemCondition": null
            },
            {
              "Chance": 0.2,
              "Season": "Fall",
              "Condition": null,
              "Id": "RedMushroom_Fall",
              "ItemId": "(O)420",
              "RandomItemId": null,
              "MaxItems": null,
              "MinStack": -1,
              "MaxStack": -1,
              "Quality": -1,
              "ObjectInternalName": null,
              "ObjectDisplayName": null,
              "ToolUpgradeLevel": -1,
              "IsRecipe": false,
              "StackModifiers": null,
              "StackModifierMode": "Stack",
              "QualityModifiers": null,
              "QualityModifierMode": "Stack",
              "ModData": null,
              "PerItemCondition": null
            },
            {
              "Chance": 0.9,
              "Season": "Winter",
              "Condition": null,
              "Id": "(O)283",
              "ItemId": "(O)283",
              "RandomItemId": null,
              "MaxItems": null,
              "MinStack": -1,
              "MaxStack": -1,
              "Quality": -1,
              "ObjectInternalName": null,
              "ObjectDisplayName": null,
              "ToolUpgradeLevel": -1,
              "IsRecipe": false,
              "StackModifiers": null,
              "StackModifierMode": "Stack",
              "QualityModifiers": null,
              "QualityModifierMode": "Stack",
              "ModData": null,
              "PerItemCondition": null
            }
          ],
          "MinDailyWeeds": 2,
          "MaxDailyWeeds": 5,
          "FirstDayWeedMultiplier": 15,
          "MinDailyForageSpawn": 1,
          "MaxDailyForageSpawn": 4,
          "MaxSpawnedForageAtOnce": 6,
          "ChanceForClay": 0.03,
          "Music": [
            {
              "Id": "Daytime",
              "Track": "woodsTheme",
              "Condition": "TIME 0 1800"
            }
          ],
          "MusicDefault": null,
          "MusicContext": "Default",
          "MusicIgnoredInRain": true,
          "MusicIgnoredInSpring": false,
          "MusicIgnoredInSummer": false,
          "MusicIgnoredInFall": false,
          "MusicIgnoredInFallDebris": false,
          "MusicIgnoredInWinter": false,
          "MusicIsTownTheme": false,
          "CustomFields": null
        }
      }
    }
  ]
}